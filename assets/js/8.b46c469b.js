(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{577:function(t,e,s){"use strict";s.r(e);var a=s(79),i=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"espressif-物联网开发框架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#espressif-物联网开发框架"}},[t._v("#")]),t._v(" Espressif 物联网开发框架 🎉 💯 🎍 💝 🔥")]),t._v(" "),s("ul",[s("li",[s("RouterLink",{attrs:{to:"/"}},[t._v("English Version")])],1)]),t._v(" "),s("p",[t._v("ESP-IDF 是乐鑫官方推出的物联网开发框架，支持 Windows、Linux 和 macOS 操作系统。")]),t._v(" "),s("h1",{attrs:{id:"esp-idf-与乐鑫芯片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#esp-idf-与乐鑫芯片"}},[t._v("#")]),t._v(" ESP-IDF 与乐鑫芯片")]),t._v(" "),s("p",[t._v("下表总结了乐鑫芯片在 ESP-IDF 各版本中的支持状态，其中 "),s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}}),t._v(" 代表已支持，"),s("img",{attrs:{src:"https://img.shields.io/badge/-%E9%A2%84%E8%A7%88-orange",alt:"alt text",title:"preview"}}),t._v(" 代表目前处于预览支持状态。在预览支持阶段，因为新芯片尚未完全添加到构建系统目录，所以一些重要的内容（如文档和技术规格书等）可能会缺失。请确保使用与芯片相匹配的 ESP-IDF 版本。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("芯片")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("v3.3")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("v4.0")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("v4.1")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("v4.2")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("v4.3")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("v4.4")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}})])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("ESP32")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("ESP32-S2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("ESP32-C3")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("ESP32-S3")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E9%A2%84%E8%A7%88-orange",alt:"alt text",title:"preview"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E6%94%AF%E6%8C%81-green",alt:"alt text",title:"supported"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.espressif.com/en/news/ESP32_S3",target:"_blank",rel:"noopener noreferrer"}},[t._v("芯片发布公告"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("ESP32-H2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("img",{attrs:{src:"https://img.shields.io/badge/-%E9%A2%84%E8%A7%88-orange",alt:"alt text",title:"preview"}})]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"https://www.espressif.com/en/news/ESP32_H2",target:"_blank",rel:"noopener noreferrer"}},[t._v("芯片发布公告"),s("OutboundLink")],1)])])])]),t._v(" "),s("p",[t._v("对于 2016 年之前发布的乐鑫芯片（包括 ESP8266 和 ESP8285），请参考 "),s("a",{attrs:{href:"https://github.com/espressif/ESP8266_RTOS_SDK",target:"_blank",rel:"noopener noreferrer"}},[t._v("RTOS SDK"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h1",{attrs:{id:"使用-esp-idf-进行开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-esp-idf-进行开发"}},[t._v("#")]),t._v(" 使用 ESP-IDF 进行开发")]),t._v(" "),s("h2",{attrs:{id:"搭建-esp-idf-开发环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建-esp-idf-开发环境"}},[t._v("#")]),t._v(" 搭建 ESP-IDF 开发环境")]),t._v(" "),s("p",[t._v("关于不同芯片如何搭建 ESP-IDF 的开发环境，请参考 https://idf.espressif.com/ 。")]),t._v(" "),s("p",[s("strong",[t._v("注意：")]),t._v(" 不同系列芯片和不同 ESP-IDF 版本都有其对应的文档。请参阅"),s("a",{attrs:{href:"https://docs.espressif.com/projects/esp-idf/zh_CN/latest/esp32/versions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("版本"),s("OutboundLink")],1),t._v("部分，获得关于如何查找文档以及如何检出 ESP-IDF 的特定发行版的详细信息。")]),t._v(" "),s("h3",{attrs:{id:"非-github-分叉的-esp-idf-项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#非-github-分叉的-esp-idf-项目"}},[t._v("#")]),t._v(" 非 GitHub 分叉的 ESP-IDF 项目")]),t._v(" "),s("p",[t._v("ESP-IDF 中的子模块采用相对路径（"),s("a",{attrs:{href:".gitmodules"}},[t._v("详见 .gitmodules 文件")]),t._v("），所以它们会指向 GitHub。\n如果 ESP-IDF 被分叉到的仓库不在 GitHub 上，那么你需要在克隆结束后运行该脚本 "),s("a",{attrs:{href:"tools/set-submodules-to-github.sh"}},[t._v("tools/set-submodules-to-github.sh")]),t._v("。")]),t._v(" "),s("p",[t._v("这个脚本会为所有的子模块设置绝对路径，接着可以通过 "),s("code",[t._v("git submodule update --init --recursive")]),t._v(" 完成子模块的更新。\n如果 ESP-IDF 是从 GitHub 上克隆得到，则不需要此步骤。")]),t._v(" "),s("h2",{attrs:{id:"寻找项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#寻找项目"}},[t._v("#")]),t._v(" 寻找项目")]),t._v(" "),s("p",[t._v("除了入门指南中提到的 "),s("a",{attrs:{href:"https://github.com/espressif/esp-idf-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("esp-idf 模板项目"),s("OutboundLink")],1),t._v("，ESP-IDF 的 "),s("a",{attrs:{href:"examples"}},[t._v("examples")]),t._v(" 目录下还带有很多其它示例项目。")]),t._v(" "),s("p",[t._v("一旦找到了需要的项目，便可以进入该目录，执行配置和构建操作。")]),t._v(" "),s("p",[t._v("如果要基于示例工程开始你自己的项目，请将示例工程复制到 ESP-IDF 目录之外。")]),t._v(" "),s("h1",{attrs:{id:"快速参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速参考"}},[t._v("#")]),t._v(" 快速参考")]),t._v(" "),s("p",[t._v("详细的使用方法请参考上面入门指南的链接，这里仅仅列举一些 ESP-IDF 项目开发中常用的命令：")]),t._v(" "),s("h2",{attrs:{id:"设置构建环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置构建环境"}},[t._v("#")]),t._v(" 设置构建环境")]),t._v(" "),s("p",[t._v("请参考入门指南中列出的详细步骤。")]),t._v(" "),s("ul",[s("li",[t._v("在主机中安装入门指南中提到的构建所依赖的工具。")]),t._v(" "),s("li",[t._v("运行安装脚本来设置构建环境。可为 Windows shell 选择 "),s("code",[t._v("install.bat")]),t._v(" 或 "),s("code",[t._v("install.ps1")]),t._v("，为 Unix shell 选择 "),s("code",[t._v("install.sh")]),t._v(" 和 "),s("code",[t._v("install.fish")]),t._v("。")]),t._v(" "),s("li",[t._v("在使用 ESP-IDF 之前，需要在 shell 中运行导出脚本。Windows 下可运行 "),s("code",[t._v("export.bat")]),t._v("，Unix 下可运行 "),s("code",[t._v("source export.sh")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"配置项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置项目"}},[t._v("#")]),t._v(" 配置项目")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("idf.py set-target <chip_name>")]),t._v(" 可将项目的目标芯片设置为 "),s("code",[t._v("<chip_name>")]),t._v("。运行 "),s("code",[t._v("idf.py set-target")]),t._v("，不用带任何参数，可查看所有支持的目标芯片列表。")]),t._v(" "),s("li",[s("code",[t._v("idf.py menuconfig")]),t._v(" 可打开一个基于文本的配置菜单，可以用来对项目进行配置。")])]),t._v(" "),s("h2",{attrs:{id:"编译项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编译项目"}},[t._v("#")]),t._v(" 编译项目")]),t._v(" "),s("p",[s("code",[t._v("idf.py build")])]),t._v(" "),s("p",[t._v("编译应用程序，引导程序，并根据配置生成分区表。")]),t._v(" "),s("h2",{attrs:{id:"烧写项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#烧写项目"}},[t._v("#")]),t._v(" 烧写项目")]),t._v(" "),s("p",[t._v("当构建结束，终端会打印出一条命令行，告知如何使用 esptool.py 工具烧写项目到芯片中。但你也可以运行下面这条命令来自动烧写：")]),t._v(" "),s("p",[s("code",[t._v("idf.py -p PORT flash")])]),t._v(" "),s("p",[t._v("将其中的 PORT 替换为系统中实际串口的名字（比如 Windows 下的 "),s("code",[t._v("COM3")]),t._v("，Linux 下的 "),s("code",[t._v("/dev/ttyUSB0")]),t._v("，或者 macOS 下的 "),s("code",[t._v("/dev/cu.usbserial-X")]),t._v("。如果省略 "),s("code",[t._v("-p")]),t._v(" 选项，"),s("code",[t._v("idf.py flash")]),t._v(" 会尝试使用第一个可用的串口进行烧写。")]),t._v(" "),s("p",[t._v("这会烧写整个项目（包括应用程序，引导程序和分区表）到芯片中，此外还可以使用 "),s("code",[t._v("idf.py menuconfig")]),t._v(" 来调整串口烧写相关的配置。")]),t._v(" "),s("p",[t._v("不必先运行 "),s("code",[t._v("idf.py build")]),t._v(" 再运行 "),s("code",[t._v("idf.py flash")]),t._v("，"),s("code",[t._v("idf.py flash")]),t._v(" 会根据需要自动重新构建项目。")]),t._v(" "),s("h2",{attrs:{id:"观察串口输入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#观察串口输入"}},[t._v("#")]),t._v(" 观察串口输入")]),t._v(" "),s("p",[s("code",[t._v("idf.py monitor")]),t._v(" 会调用 "),s("a",{attrs:{href:"https://docs.espressif.com/projects/esp-idf/en/latest/get-started/idf-monitor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("idf_monitor 工具"),s("OutboundLink")],1),t._v("来显示乐鑫芯片的串口输出。"),s("code",[t._v("idf_monitor")]),t._v(" 还包含一系列的功能来解析程序崩溃后的输出结果并与设备进行交互。更多详细内容，请参阅"),s("a",{attrs:{href:"https://docs.espressif.com/projects/esp-idf/en/latest/get-started/idf-monitor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("输入 "),s("code",[t._v("Ctrl-]")]),t._v(" 可退出监视器。")]),t._v(" "),s("p",[t._v("想要一次性执行构建、烧写和监视，可以运行如下命令：")]),t._v(" "),s("p",[s("code",[t._v("idf.py flash monitor")])]),t._v(" "),s("h2",{attrs:{id:"仅编译并烧写应用程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#仅编译并烧写应用程序"}},[t._v("#")]),t._v(" 仅编译并烧写应用程序")]),t._v(" "),s("p",[t._v("在第一次烧写过后，你可能只想构建并烧写你的应用程序，不包括引导程序和分区表：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("idf.py app")]),t._v(" - 仅构建应用程序。")]),t._v(" "),s("li",[s("code",[t._v("idf.py app-flash")]),t._v(" - 仅烧写应用程序。")])]),t._v(" "),s("p",[s("code",[t._v("idf.py app-flash")]),t._v(" 会自动判断是否有源文件发生了改变然后重新构建应用程序。")]),t._v(" "),s("p",[t._v("（在正常的开发中，即使引导程序和分区表没有发生变化，每次都重新烧写它们并不会带来什么危害。）")]),t._v(" "),s("h2",{attrs:{id:"擦除-flash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#擦除-flash"}},[t._v("#")]),t._v(" 擦除 Flash")]),t._v(" "),s("p",[s("code",[t._v("idf.py flash")]),t._v(" 并不会擦除 flash 上所有的内容，但是有时候我们需要设备恢复到完全擦除的状态，尤其是分区表发生了变化或者 OTA 应用升级时。要擦除整块 flash 请运行 "),s("code",[t._v("idf.py erase-flash")]),t._v("。")]),t._v(" "),s("p",[t._v("这条命令还可以和其余命令整合在一起，"),s("code",[t._v("idf.py -p PORT erase-flash flash")]),t._v(" 会擦除一切然后重新烧写新的应用程序、引导程序和分区表。")]),t._v(" "),s("h1",{attrs:{id:"其它参考资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其它参考资源"}},[t._v("#")]),t._v(" 其它参考资源")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("最新版的文档：https://docs.espressif.com/projects/esp-idf/ ，该文档是由本仓库 "),s("a",{attrs:{href:"docs"}},[t._v("docs 目录")]),t._v(" 构建得到。")])]),t._v(" "),s("li",[s("p",[t._v("可以前往 "),s("a",{attrs:{href:"https://esp32.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("esp32.com 论坛"),s("OutboundLink")],1),t._v(" 提问，挖掘社区资源。")])]),t._v(" "),s("li",[s("p",[t._v("如果你在使用中发现了错误或者需要新的功能，请先"),s("a",{attrs:{href:"https://github.com/espressif/esp-idf/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("查看 GitHub Issues"),s("OutboundLink")],1),t._v("，确保该问题没有重复提交。")])]),t._v(" "),s("li",[s("p",[t._v("如果你有兴趣为 ESP-IDF 作贡献，请先阅读"),s("a",{attrs:{href:"https://docs.espressif.com/projects/esp-idf/en/latest/contribute/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("贡献指南"),s("OutboundLink")],1),t._v("。")])])]),t._v(" "),s("Vssue")],1)}),[],!1,null,null,null);e.default=i.exports}}]);